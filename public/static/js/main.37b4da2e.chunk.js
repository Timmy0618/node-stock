(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{63:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),a=n(14),s=n.n(a),l=(n.p,n(63),n(5));var i=n(39),r=n.n(i),d=n(57),j=n(18),u=n(49),h=n(50),b=n.n(h),g=n(51),x=n.n(g),O=n(26),p=n(27),m=n(58),f=n(40),v=n(33),k=n(56),y=n(52),F=n(38),S=n.n(F);function C(){return(C=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.get("/get/stock/data?stockname=".concat(t)).then((function(e){return console.log(e.data),e.data})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.data,n=new Date;if(console.log(t),0===t.length)return Object(l.jsx)(l.Fragment,{});var c=[],o="",a="";console.log(t.timestamp.length);for(var s=t.timestamp.length-1;s>0;s--)o="",a="",n.setTime(1e3*t.timestamp[s]),t.volume[s]>1.4*t.volume[s-1]&&(o="table-danger"),t.close[s]>1.05*t.close[s-1]&&(a="table-danger"),t.close[s]<.95*t.close[s-1]&&(a="table-success"),c.push(Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:n.toLocaleDateString()}),Object(l.jsx)("td",{children:t.open[s].toFixed(2)}),Object(l.jsx)("td",{children:t.high[s].toFixed(2)}),Object(l.jsx)("td",{children:t.low[s].toFixed(2)}),Object(l.jsx)("td",{class:a,children:t.close[s].toFixed(2)}),Object(l.jsx)("td",{class:o,children:t.volume[s]})]}));return Object(l.jsxs)(y.a,{striped:!0,bordered:!0,hover:!0,children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Date"}),Object(l.jsx)("th",{children:"Open"}),Object(l.jsx)("th",{children:"High"}),Object(l.jsx)("th",{children:"Low"}),Object(l.jsx)("th",{children:"Close"}),Object(l.jsx)("th",{children:"Volume"})]})}),Object(l.jsx)("tbody",{children:c})]})}function L(e){console.log(e);var t=e.stockname,n=e.data,c=o.a.useState([]),a=Object(j.a)(c,2),s=a[0],i=a[1];return console.log(n,t,n.length),console.log(t),o.a.useEffect((function(){console.log(t),i((function(){return function(e,t){if(console.log(e),console.log(t),""===e||0===t.length)return"";console.log("start");for(var n=[],c=[],o=t.timestamp.length,a=[["day",[1]],["month",[1,2,3,4,6]]],s=0;s<o;s+=1)n.push([1e3*t.timestamp[s],Number(t.open[s].toFixed(2)),Number(t.high[s].toFixed(2)),Number(t.low[s].toFixed(2)),Number(t.close[s].toFixed(2))]),c.push([1e3*t.timestamp[s],t.volume[s]]);return console.log("69"),{rangeSelector:{selected:1,inputEnabled:!1},title:{text:e+" Historical"},yAxis:[{labels:{align:"right",x:-3},title:{text:"OHLC"},height:"60%",lineWidth:2,resize:{enabled:!0}},{labels:{align:"right",x:-3},title:{text:"Volume"},top:"65%",height:"35%",offset:0,lineWidth:2,resize:{enabled:!0},distance:"100%",y:100}],tooltip:{split:!0},series:[{type:"candlestick",name:e,data:n,dataGrouping:{units:a}},{type:"column",name:"Volume",data:c,yAxis:1,dataGrouping:{units:a}}],plotOptions:{candlestick:{color:"green",upColor:"red"}}}}(t,n)}))}),[n]),t?(console.log(s),0===s.length?Object(l.jsx)("h1",{children:"Loading"}):Object(l.jsx)(x.a,{highcharts:b.a,constructorType:"stockChart",options:s})):Object(l.jsx)("h1",{children:"no stockname"})}var N=function(){var e=o.a.useState(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=o.a.useState(""),s=Object(j.a)(a,2),i=s[0],r=s[1],u=o.a.useState("0"),h=Object(j.a)(u,2),b=(h[0],h[1],o.a.useState([])),g=Object(j.a)(b,2),x=g[0],y=g[1],F=o.a.useState([]),S=Object(j.a)(F,2),N=S[0],T=S[1];return console.log(x,N),Object(l.jsxs)("div",{children:[Object(l.jsxs)(p.a,{bg:"light",expand:"lg",children:[Object(l.jsx)(p.a.Brand,{children:"STOCK"}),Object(l.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(l.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(l.jsx)(m.a,{className:"mr-auto",children:Object(l.jsx)(f.a,{title:"\u6700\u611b",children:x.map((function(e,t){return Object(l.jsx)(f.a.Item,{herf:"#",value:e,onClick:function(){return function(e){r(e)}(e)},children:e},t)}))})}),Object(l.jsxs)(k.a,{inline:!0,children:[Object(l.jsx)(v.a,{type:"text",placeholder:"Stockname",className:"mr-sm-2",val:n,onChange:function(e){c(e.target.value)}}),Object(l.jsx)(O.a,{variant:"outline-success",onClick:function(){r(n),function(e){return C.apply(this,arguments)}(n).then((function(e){return T(e)}))},children:"Search"}),Object(l.jsx)(O.a,{variant:"primary",onClick:function(){-1===x.indexOf(n)&&y([].concat(Object(d.a)(x),[n]))},children:"\u52a0\u5165\u6700\u611b"})]})]})]}),Object(l.jsx)(L,{stockname:i,data:N}),Object(l.jsx)(w,{data:N})]})},T=n(53),I=n.n(T);var B=function(){console.log(fetch("/login").then((function(e){return e.text()})));var e=function(e){console.log(e.googleId)};return Object(l.jsx)(I.a,{clientId:"718990108790-il6qfr68ffivhvdbpte6l1f6m77lvt7e.apps.googleusercontent.com",buttonText:"Login",onSuccess:e,onFailure:e,cookiePolicy:"single_host_origin"})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),a(e),s(e)}))},E=n(54),H=n(55),P=n(34);n(89),n(38).default;s.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(E.a,{className:"p-3",children:Object(l.jsx)(H.a,{children:Object(l.jsxs)(P.a,{children:[Object(l.jsx)(N,{}),Object(l.jsx)(B,{})]})})})}),document.getElementById("googleButton")),D()}},[[90,1,2]]]);
//# sourceMappingURL=main.37b4da2e.chunk.js.map
{"version":3,"sources":["logo.svg","App.js","Show_Stock.js","UserLogin.js","reportWebVitals.js","index.js"],"names":["App","stockname","a","fetch","then","data","json","StockGraph","props","console","log","stock_data","React","useState","option","length","highcharts","Highcharts","constructorType","options","Stock","searchText","setSearch","result","setResult","stocklist","setList","stockdata","setdata","Navbar","bg","expand","Brand","Toggle","aria-controls","Collapse","id","Nav","className","NavDropdown","title","map","index","Item","herf","value","onClick","clickChange","Form","inline","FormControl","type","placeholder","val","onChange","event","target","Button","variant","get_stock_data","indexOf","Login","text","responseGoogle","response","googleId","clientId","buttonText","onSuccess","onFailure","cookiePolicy","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","Container","Row","Col","document","getElementById"],"mappings":"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","file":"static/js/main.b8d01f13.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import logo from './logo.svg';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n        <p>\r\n          Edit <code>src/App.js</code> and save to reload.\r\n        </p>\r\n        <a\r\n          className=\"App-link\"\r\n          href=\"https://reactjs.org\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Learn React\r\n        </a>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { Component } from 'react'\r\nimport Highcharts, { getDeferredAnimation } from 'highcharts/highstock'\r\nimport HighchartsReact from 'highcharts-react-official'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport NavDropdown from 'react-bootstrap/NavDropdown'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Table from 'react-bootstrap/Table'\r\n\r\n/*\r\nasync function get_stock_data(stockname) {\r\n  return fetch('https://histock.tw/stock/chip/chartdata.aspx?no=' + stockname + '&days=80&m=dailyk,volume')\r\n    .then(function (data) {\r\n      return data.json();\r\n    })\r\n}\r\n*/\r\n\r\nasync function get_stock_data(stockname) {\r\n  return fetch(`/get_stock_data?stockname=${stockname}`)\r\n    .then(function (data) {\r\n      return data.json();\r\n    })\r\n}\r\n\r\n\r\nfunction show_graph(stockname, data) {\r\n  console.log(stockname);\r\n  console.log(data);\r\n  if (stockname === \"\" || data.length === 0)\r\n    return \"\";\r\n  //let data1 = JSON.parse(data.DailyK);\r\n  //let data2 = JSON.parse(data.Volume);\r\n\r\n\r\n  // split the data set into ohlc and volume\r\n  var ohlc = [],\r\n    volume = [],\r\n    dataLength = data.timestamp.length,\r\n    // set the allowed units for data grouping\r\n    groupingUnits = [[\r\n      'day',                         // unit name\r\n      [1]                             // allowed multiples\r\n    ], [\r\n      'month',\r\n      [1, 2, 3, 4, 6]\r\n    ]],\r\n\r\n    i = 0;\r\n\r\n  for (i; i < dataLength; i += 1) {\r\n    ohlc.push([\r\n      data.timestamp[i] * 1000, // the date\r\n      Number(data.open[i].toFixed(2)), // open\r\n      Number(data.high[i].toFixed(2)), // high\r\n      Number(data.low[i].toFixed(2)), // low\r\n      Number(data.close[i].toFixed(2)) // close\r\n    ]);\r\n\r\n    volume.push([\r\n      data.timestamp[i] * 1000, // the date\r\n      data.volume[i] // the volume\r\n    ]);\r\n  }\r\n\r\n\r\n  // create the chart\r\n  let options = {\r\n\r\n    rangeSelector: {\r\n      /*\r\n      buttons: [\r\n        {\r\n          type: 'month',\r\n          count: 1,\r\n          text: 'month'\r\n        }, {\r\n          type: 'All',\r\n          count: 1,\r\n          text: 'All'\r\n        }],\r\n        */\r\n      selected: 1,\r\n      inputEnabled: false\r\n    },\r\n\r\n    title: {\r\n      text: stockname + ' Historical'\r\n    },\r\n\r\n    yAxis: [{\r\n      labels: {\r\n        align: 'right',\r\n        x: -3\r\n      },\r\n      title: {\r\n        text: 'OHLC'\r\n      },\r\n      height: '60%',\r\n      lineWidth: 2,\r\n      resize: {\r\n        enabled: true\r\n      }\r\n    }, {\r\n      labels: {\r\n        align: 'right',\r\n        x: -3\r\n      },\r\n      title: {\r\n        text: 'Volume'\r\n      },\r\n      top: '65%',\r\n      height: '35%',\r\n      offset: 0,\r\n      lineWidth: 2,\r\n      resize: {\r\n        enabled: true\r\n      },\r\n      distance: '100%',\r\n      y: 100\r\n    }],\r\n\r\n    tooltip: {\r\n      split: true\r\n    },\r\n\r\n    series: [{\r\n      type: 'candlestick',\r\n      //color: '#FF0000',\r\n      name: stockname,\r\n      data: ohlc,\r\n      dataGrouping: {\r\n        units: groupingUnits\r\n      }\r\n    }, {\r\n      type: 'column',\r\n      name: 'Volume',\r\n      data: volume,\r\n      yAxis: 1,\r\n      dataGrouping: {\r\n        units: groupingUnits\r\n      },\r\n    }],\r\n    plotOptions: {\r\n      candlestick: {\r\n        color: 'green',\r\n        upColor: 'red'\r\n      }\r\n    },\r\n  };\r\n  return options;\r\n}\r\n\r\nfunction Stock() {\r\n\r\n  let [searchText, setSearch] = React.useState(\"\");\r\n  let [result, setResult] = React.useState(\"\");\r\n  let [selectResult, setSelect] = React.useState(\"0\");\r\n  let [stocklist, setList] = React.useState([]);\r\n  let [stockdata, setdata] = React.useState([]);\r\n\r\n  const handleChanged = (event) => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    setResult(searchText);\r\n    get_stock_data(searchText).then(\r\n      data =>\r\n        setdata(data)\r\n    );\r\n  };\r\n\r\n  const clickChange = (data) => {\r\n    setResult(data);\r\n  };\r\n\r\n  const AddStock = () => {\r\n    if (stocklist.indexOf(searchText) === -1) {\r\n      setList([...stocklist, searchText]);\r\n    }\r\n  };\r\n\r\n  console.log(stocklist,);\r\n  return (\r\n    <div>\r\n      <Navbar bg=\"light\" expand=\"lg\">\r\n        <Navbar.Brand >React-Bootstrap</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <NavDropdown title=\"最愛\" >\r\n              {\r\n                stocklist.map((data, index) => <NavDropdown.Item herf=\"#\" value={data} onClick={() => clickChange(data)} key={index}>{data}</NavDropdown.Item>)\r\n              }\r\n            </NavDropdown>\r\n          </Nav>\r\n          <Form inline>\r\n            <FormControl type=\"text\" placeholder=\"Stockname\" className=\"mr-sm-2\" val={searchText} onChange={handleChanged} />\r\n            <Button variant=\"outline-success\" onClick={handleSearch}>Search</Button>\r\n            <Button variant=\"primary\" onClick={AddStock}>加入最愛</Button>\r\n          </Form>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n      <StockGraph stockname={result} data={stockdata} />\r\n\r\n    </div>\r\n  )\r\n}\r\n/*\r\n\r\nfunction Stock_history_data(props) {\r\n  let data = props.data;\r\n  console.log(data);\r\n  if (data.length === 0)\r\n    return <></>;\r\n  let ary = [];\r\n  for (let i = 0; i < data.timestamp.length; i++) {\r\n    ary.push(<tr>\r\n      <td>{data.timestamp[i]}</td>\r\n      <td>{data.open[i]}</td>\r\n      <td>{data.high[i]}</td>\r\n      <td>{data.low[i]}</td>\r\n      <td>{data.close[i]}</td>\r\n      <td>{data.volume[i]}</td>\r\n    </tr>)\r\n  }\r\n  return (\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>Date</th>\r\n          <th>Open</th>\r\n          <th>High</th>\r\n          <th>Low</th>\r\n          <th>Close</th>\r\n          <th>Volume</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {ary}\r\n      </tbody>\r\n    </Table>\r\n  )\r\n}\r\n*/\r\nfunction StockGraph(props) {\r\n  console.log(props);\r\n  let stockname = props.stockname;\r\n  let stock_data = props.data;\r\n  let [option, setData] = React.useState([]);\r\n  console.log(stock_data, stockname, stock_data.length);\r\n\r\n  console.log(stockname);\r\n  //let stock_data = await get_stock_data(stockname);\r\n  //setData(show_graph(stockname, stock_data));\r\n\r\n\r\n  if (!stockname) return <h1>no stockname</h1>;\r\n  console.log(option);\r\n  if (option.length === 0) return <h1>Loading</h1>;\r\n  return (\r\n    <HighchartsReact\r\n      highcharts={Highcharts}\r\n      constructorType={\"stockChart\"}\r\n      options={option}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Stock\r\n\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport GoogleLogin from 'react-google-login';\r\n\r\nfunction userid() {\r\n    return fetch(\"/login\")\r\n        .then(function (data) {\r\n            return data.text();\r\n        })\r\n}\r\n\r\nfunction Login() {\r\n    console.log(userid());\r\n    const responseGoogle = (response) => {\r\n        console.log(response.googleId);\r\n    }\r\n    return (\r\n        <GoogleLogin\r\n            clientId=\"718990108790-il6qfr68ffivhvdbpte6l1f6m77lvt7e.apps.googleusercontent.com\"\r\n            buttonText=\"Login\"\r\n            onSuccess={responseGoogle}\r\n            onFailure={responseGoogle}\r\n            cookiePolicy={'single_host_origin'}\r\n        />\r\n    );\r\n}\r\n\r\n\r\nexport default Login\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n//import './index.css';\r\nimport App from './App';\r\nimport Stock from './Show_Stock'\r\nimport Login from './UserLogin'\r\nimport reportWebVitals from './reportWebVitals';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n\r\n  <React.StrictMode>\r\n    <Container className=\"p-3\">\r\n      <Row>\r\n        <Col>\r\n          <Stock />\r\n          <Login />\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  </React.StrictMode>,\r\n  document.getElementById('googleButton')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}